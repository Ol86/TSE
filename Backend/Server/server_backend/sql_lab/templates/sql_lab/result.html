{% extends 'main.html' %}
{% load static %}

{% block style %}
    <link rel="stylesheet" href="{% static 'base/question/questions.css' %}"/>
{% endblock %}

{% block title %}
    <title>
        SQL Laboratory
    </title>    
{% endblock %}

{% block content %}
    <a class="logout-button" href="{% url 'logout' %}">Logout</a>
    <header>
        <a class="creation-buttons" href="{% url 'home' %}">Experiments</a>
        <a class="creation-buttons" href="{% url 'questions' %}">Questions</a>
        <a class="creation-buttons" href="{% url 'watches' %}">Watches</a>
        <a class="creation-buttons" href="{% url 'sql_lab' %}">SQL Laboratory</a>
    </header>

    <h2>SQL Laboratory</h2>
    <form method="post" action="{% url 'sql_lab' %}">
        {% csrf_token %}
        {{ form.as_p }}
        <button type="submit">Translate</button>
    </form>
    <br><br>
    <h2>Verarbeiteter Text</h2>
    <p>Input: {{ original_text }}</p>
    <div id="processed_text">{{ processed_text }}</div>
    <br>
    <button onclick="CopyToClipboard('processed_text');return false;">Copy Text</button>

    <br><br>
    {% include 'sql_lab/database.html' %}
{% endblock %}

{% block script %}
    <script>
        function CopyToClipboard(id)
        {
        var r = document.createRange();
        r.selectNode(document.getElementById(id));
        window.getSelection().removeAllRanges();
        window.getSelection().addRange(r);
        document.execCommand('copy');
        window.getSelection().removeAllRanges();
        }
    </script>
{% endblock %}
